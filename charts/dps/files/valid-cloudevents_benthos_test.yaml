tests:
  - name: decompress success test
    target_processors: '/pipeline/processors'
    environment: { }
    input_batch:
      - content: '{"data":{"pos":{"alt":32768,"dir":65535,"hdop":255,"lat":-2147483648,"lon":-2147483648,"sat":255,"spd":65535},"prt":0,"signals":{"29":"3213","30":"1061","49":"0","50":"ED","51":"1","92":"0","93":"0","94":"0","95":"0","96":"FF","97":"FF","98":"0","99":"0","102":"0","103":"0","104":"0","105":"0","106":"0","107":"0","108":"0","114":"0","135":"0","136":"0","137":"0","173":"0","205":"0","207":"0","409":"0","525":"E","642":"FFFF","645":"FFFFFFFF","722":"FF","723":"FFFF","754":"0","950":"FFFF","985":"0","999":"FF","5005":"0","5060":"7310","525_1":"E"},"trigger":7},"datacontenttype":"application/json","dataversion":"r/v0/s","id":"2q8Hyv6dB1s3zYucDywzeyyMtLm","producer":"did:nft:80002:0x325b45949C833986bC98e98a49F3CA5C5c4643B5_14","signature":"0x28e055e53f2f255998db3b22af45b7f3fedc64002e7b82a34a3f9dbefe9eb4cc4fa2041023f9aea9e89af47d94feadcdff3ceaeec6cf22dd164bde7ad1ae7a891b","source":"0xF26421509Efe92861a587482100c6d728aBf1CD0","specversion":"1.0","subject":"did:nft:80002:0x45fbCD3ef7361d156e8b16F5538AE36DEdf61Da8_431","time":"2024-12-12T21:05:33Z","type":"dimo.status"}'
    output_batches:
      - - json_equals: '{"data":{"pos":{"alt":32768,"dir":65535,"hdop":255,"lat":-2147483648,"lon":-2147483648,"sat":255,"spd":65535},"prt":0,"signals":{"29":"3213","30":"1061","49":"0","50":"ED","51":"1","92":"0","93":"0","94":"0","95":"0","96":"FF","97":"FF","98":"0","99":"0","102":"0","103":"0","104":"0","105":"0","106":"0","107":"0","108":"0","114":"0","135":"0","136":"0","137":"0","173":"0","205":"0","207":"0","409":"0","525":"E","642":"FFFF","645":"FFFFFFFF","722":"FF","723":"FFFF","754":"0","950":"FFFF","985":"0","999":"FF","5005":"0","5060":"7310","525_1":"E"},"trigger":7},"datacontenttype":"application/json","dataversion":"r/v0/s","id":"2q8Hyv6dB1s3zYucDywzeyyMtLm","producer":"did:nft:80002:0x325b45949C833986bC98e98a49F3CA5C5c4643B5_14","signature":"0x28e055e53f2f255998db3b22af45b7f3fedc64002e7b82a34a3f9dbefe9eb4cc4fa2041023f9aea9e89af47d94feadcdff3ceaeec6cf22dd164bde7ad1ae7a891b","source":"0xF26421509Efe92861a587482100c6d728aBf1CD0","specversion":"1.0","subject":"did:nft:80002:0x45fbCD3ef7361d156e8b16F5538AE36DEdf61Da8_431","time":"2024-12-12 21:05:33","type":"dimo.status"}'
  # - name: decompress wrong signature test
#    target_processors: '/pipeline/processors'
#    environment: { }
#    input_batch:
#      - content: '{"compressedPayload": "H4sIAAAAAAAA/6yWb2/bNhDGvwtfKyqPvOMfvc2fYVuLZqvbDBuGgqZOjhZLMiTaW1b4uw9yDNstoiFz5leGeb+Hz50fkfoi6lIUQlU/vm9vYXb39xo/hkd1V3/3U/XD1c/9XSsyMXTrPrIoRKgS903oHzi9KXlTR34zpJDWw1i04rjhfqi7VhQCcjn+tp7/wTGJQsi/vLuyrrQAl5IjId6Yak4lYRUrQ+QvbxAITfAiE6luxt2UVHgh8QL8DGwhbYEuR6mtkwbg17HucTXWxa7Jy7rp8idL+dFSvWhDWve8M4CaqrmL3paSY2Uss7Ts55UhhojoKwguqEAePNE8AJHSVQBHLigtuZLluOyNR8RSRZDE82h8GdkSumjBhqqKCqI0WBnU86AjeSRjdekrpyCKTJQhBVF82bU4pNCsRAEWNKFB41DqTDw1Mdb0q/rjaiz8wHEY61wm5iEl7h8/dcsUFiwKULkx20xs+L6Oyx2263o5iOK3Z7dB7VFnog3NfnZNaEsurxe9yMQmLNcsCpI5eCOtQw3aKsJt9ryWcWgPWk2ojhJoKUc7xVntzYHbe/+wYi6PAmBgkvboDzS3i7rlt104ZVVO6EFNCTh0R9vpvu9SWvJtN9RpTO9BRtncodZmSsZLdexiuO/6dLPm5ayvm6+tTPLkjzbqNoUHnnGzOoGnBkgSlPsGve15GMawH3A9NQDSUqkD3q9O/GpJJrdTlok84OsnR84aPCM35LWEs3x7h/LswBmpnXxN4Iz04F+RFANI9O9JmUSVlOb8pBj0Up4zcUOo/euTYsg7+J9Oq/0Bu9dadu2iTuvyZAoXFnKSYJTT+8/LlEL6RghVrqwEqf+Tzn3Znf6j+cv6aIeQjtTUk/M18+cqfB5vyRPL4vL9u9u317PrK/EiiWGoT/IvbupuuPjUqsW7z9e/zMT29+3xUpp1D9x+fyUKmYkmPIzlIhNNV/Ly6esjh363enx/2EAucym2/wQAAP//oQmw9aAIAAA="}'
##     todo: add assertion that there are no output batches
